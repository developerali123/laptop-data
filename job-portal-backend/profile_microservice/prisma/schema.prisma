// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum SkillLevel {
  BEGINNER
  INTERMEDIATE
  EXPERT
  NATIVE
}

enum LanguageProficiency {
  BASIC
  INTERMEDIATE
  NATIVE
  FLUENT
}

enum SocialLinkPlatform {
  LINKENDIN
  FACEBOOK
  INSTAGRAM
}

model UserProfile {
  id             String          @id @default(uuid())
  userId         String          @unique
  fullName       String
  contactEmail   String
  phone          String?
  dateOfBirth    DateTime?
  gender         String?
  address        String?
  city           String?
  country        String?
  bio            String?
  profilePicture String?
  createdAt      DateTime        @default(now())
  updatedAt      DateTime        @updatedAt

  education      Education[]
  experience     Experience[]
  skills         Skill[]
  certifications Certification[]
  projects       Project[]
  languages      Language[]
  socialLinks    SocialLink[]
  hobbies        Hobby[]
}

model CompanyProfile {
  id              String   @id @default(uuid())
  companyId       String   @unique
  name            String
  logoUrl         String?
  industry        String?
  website         String?
  email           String?
  phone           String?
  address         String?
  city            String?
  country         String?
  establishedDate DateTime?
  about           String?
  size            String?
  linkedIn        String?
  facebook        String?
  twitter         String?
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

model Education {
  id            String      @id @default(uuid())
  userProfileId String
  degree        String
  school        String
  field         String?
  startDate     DateTime
  endDate       DateTime?
  grade         String?
  description   String?
  obtainedmarks Float?
  totalmarks    Float?

  userProfile   UserProfile @relation(fields: [userProfileId], references: [id])
}

model Experience {
  id            String      @id @default(uuid())
  userProfileId String
  company       String
  title         String
  location      String?
  startDate     DateTime
  endDate       DateTime?
  description   String?

  userProfile   UserProfile @relation(fields: [userProfileId], references: [id])
}

model Skill {
  id            String      @id @default(uuid())
  userProfileId String
  name          String
  level         SkillLevel

  userProfile   UserProfile @relation(fields: [userProfileId], references: [id])
}

model Certification {
  id            String      @id @default(uuid())
  userProfileId String
  name          String
  issuer        String
  dateIssued    DateTime?
  credentialUrl String?

  userProfile   UserProfile @relation(fields: [userProfileId], references: [id])
}

model Project {
  id            String      @id @default(uuid())
  userProfileId String
  title         String
  description   String?
  technologies  String[]
  githubUrl     String?
  liveUrl       String?

  userProfile   UserProfile @relation(fields: [userProfileId], references: [id])
}

model Language {
  id            String               @id @default(uuid())
  userProfileId String
  name          String
  proficiency   LanguageProficiency

  userProfile   UserProfile @relation(fields: [userProfileId], references: [id])
}

model SocialLink {
  id            String              @id @default(uuid())
  userProfileId String
  platform      SocialLinkPlatform
  url           String

  userProfile   UserProfile @relation(fields: [userProfileId], references: [id])
}

model Hobby {
  id            String      @id @default(uuid())
  userProfileId String
  name          String

  userProfile   UserProfile @relation(fields: [userProfileId], references: [id])
}
